<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#1d4ed8">
  <meta name="application-name" content="Hamamatsu_Event_Map">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Hamamatsu_Event_Map">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <script>
    if (location.protocol !== "file:") {
      const manifest = document.createElement("link");
      manifest.rel = "manifest";
      manifest.href = "manifest.webmanifest";
      document.head.appendChild(manifest);
    }
  </script>
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
  <meta name="msapplication-TileColor" content="#1d4ed8">
  <meta name="msapplication-config" content="browserconfig.xml">
  <title>浜松市 イベントマップ</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <button id="menu-toggle" class="menu-toggle" aria-label="メニューを開く" aria-expanded="true" aria-controls="side-menu">
    MENU
  </button>
  <div id="menu-backdrop" class="menu-backdrop" aria-hidden="true"></div>
  <button id="menu-handle" class="menu-handle hidden" type="button" aria-label="メニューを開く"></button>
  <aside id="side-menu" class="side-menu open" aria-hidden="false">
    <div class="menu-header-row">
      <div class="menu-header">浜松市 イベントマップ</div>
      <button id="menu-close" class="menu-close" type="button" aria-label="メニューを閉じる">×</button>
    </div>
    <div class="menu-catch">
      <div><strong>○</strong>浜松市のイベント情報を地図で確認できます。</div>
      <div><strong>○</strong> 期間やカテゴリで絞り込むと探しやすいです。</div>
      <div><strong>○</strong> マップ上のイベントをクリックすると詳細が表示されます。</div>
      <div><strong>○</strong> 公式情報は下記サイトをご確認ください。</div>
      <div><a href="https://opendata.pref.shizuoka.jp/dataset/12574.html" target="_blank" rel="noopener">https://opendata.pref.shizuoka.jp/dataset/12574.html</a></div>
    </div>
    <div id="date-range-hint" class="menu-hint"></div>
    <label class="menu-label" for="date-start">開始日</label>
    <input id="date-start" class="menu-input" type="date">
    <label class="menu-label" for="date-end">終了日</label>
    <input id="date-end" class="menu-input" type="date">
    <div class="menu-actions">
      <button id="date-clear" class="menu-button" type="button">期間リセット</button>
    </div>
    <label class="menu-label" for="search-input">キーワード検索</label>
    <input id="search-input" class="menu-input" type="text" placeholder="例: 音楽, 公園, ワークショップ">
    <div class="menu-section">
      <div class="menu-subtitle">カテゴリ</div>
      <div id="category-filters"></div>
      <div class="menu-actions">
        <button id="category-all" class="menu-button" type="button">すべて選択</button>
        <button id="category-none" class="menu-button" type="button">すべて解除</button>
      </div>
    </div>
    <div id="filter-summary" class="status-summary hidden">
      <div class="status-row">
        表示中: <span id="visible-count">0</span>件
      </div>
      <div class="status-row">
        対象データ: <span id="total-count">0</span>件
      </div>
    </div>
    <div id="date-info" class="menu-hint">未選択 / 全日表示</div>
    <div class="menu-footer">
      <div class="menu-license">
        <div>Leaflet (MIT) | &copy; OpenStreetMap contributors (ODbL)</div>
        <div>データ(CC BY): <a href="https://opendata.pref.shizuoka.jp/dataset/12574.html" target="_blank" rel="noopener">浜松市イベント</a></div>
        <div>提供: <a href="https://opendata.pref.shizuoka.jp/" target="_blank" rel="noopener">静岡県オープンデータポータル</a> / <a href="https://www.city.hamamatsu.shizuoka.jp/opendata/index.html" target="_blank" rel="noopener">浜松市オープンデータ</a></div>
      </div>
      <div class="menu-actions">
        <button id="about-button" class="menu-button" type="button">このアプリについて</button>
      </div>
    </div>
  </aside>
  <div id="map"></div>
  <div id="details-modal" class="details-modal" aria-hidden="true" role="dialog" aria-label="イベント詳細">
    <div class="details-container" role="document">
      <div class="details-header">
        <div class="details-title"></div>
        <button id="details-close" class="menu-button" type="button">閉じる</button>
      </div>
      <div id="details-body" class="details-body"></div>
    </div>
  </div>

  <div id="about-modal" class="details-modal" aria-hidden="true" role="dialog" aria-label="このアプリについて">
    <div class="details-container" role="document">
      <div class="details-header">
        <div class="details-title">このアプリについて</div>
        <button id="about-close" class="menu-button" type="button">閉じる</button>
      </div>
      <div id="about-body" class="about-body">
        <p>このアプリは、浜松市が公開するオープンデータ「イベント」を利用しています。</p>
        <p>データ提供：浜松市<br>クリエイティブ・コモンズ・ライセンス 表示2.1 日本</p>
        <p>本アプリは個人が作成した非公式アプリであり、<br>
浜松市が提供・運営するものではありません。</p>
        <p>表示内容は可能な限り最新の情報に基づいていますが、内容の正確性を保証するものではありません。<br>
最新情報は必ず公式の情報をご確認ください。</p>
        <p>公式情報は下記から入手するようにしてください。<br>
          <a href="https://opendata.pref.shizuoka.jp/dataset/12574.html" target="_blank" rel="noopener">https://opendata.pref.shizuoka.jp/dataset/12574.html</a>
        </p>
        <p>位置情報は端末内で処理され、保存されません。</p>
      </div>
    </div>
  </div>
  <script
    charset="UTF-8"
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin="">
  </script>

  <script charset="UTF-8" src="assets/js/config.js"></script>
  <script charset="UTF-8" src="assets/js/csv.js"></script>
  <script charset="UTF-8" src="assets/js/utils.js"></script>
  <script charset="UTF-8" src="assets/app.js"></script>
</body>
</html>
